/**!
 * 
 * Zebra Date Picker TH
 * version: 1.1
 * 
 * fixed:
 * 1. using date style have thai language
 * 2. double click in calenda text box's not correct 
 */
(function(a){a.Zebra_DatePicker=function(x,I){var d=false;var L={always_show_clear:false,always_visible:false,days:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],direction:0,disabled_dates:false,first_day_of_week:1,format:"Y-m-d",inside:true,lang_clear_date:"Clear",months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤษจิกายน","ธันวาคม"],offset:[20,-5],pair:false,readonly_element:true,show_week_number:false,start_date:false,view:"days",weekend_days:[0,6],onSelect:null};var e,K,v,i,P,b,p,r,n,B,j,y,z,T,o,E,H,V,Y,u,S,aa,R,G,c,s,Q,D,N,f;var Z=this;Z.settings={};var h=a(x);var W=function(ai){if(!ai){Z.settings=a.extend({},L,I)}if(Z.settings.readonly_element){h.attr("readonly","readonly")}var ap={days:["d","j"],months:["F","m","M","n","t"],years:["o","Y","y"]},aq=false,al=false,ao=false;for(type in ap){a.each(ap[type],function(ar,at){if(Z.settings.format.indexOf(at)>-1){if(type=="days"){aq=true}else{if(type=="months"){al=true}else{if(type=="years"){ao=true}}}}})}if(aq&&al&&ao){f=["years","months","days"]}else{if(!aq&&al&&ao){f=["years","months"]}else{if(!aq&&!al&&ao){f=["years"]}else{f=["years","months","days"]}}}if(a.inArray(Z.settings.view,f)==-1){Z.settings.view=f[f.length-1]}var ag=new Date(),ah=(!Z.settings.reference_date?(h.data("zdp_reference_date")?h.data("zdp_reference_date"):ag):Z.settings.reference_date),am,ak;aa=undefined;R=undefined;y=ah.getMonth();n=ag.getMonth();z=ah.getFullYear();B=ag.getFullYear();T=ah.getDate();j=ag.getDate();if(Z.settings.direction===true){aa=ah}else{if(Z.settings.direction===false){R=ah;s=R.getMonth();c=R.getFullYear();G=R.getDate()}else{if((!a.isArray(Z.settings.direction)&&X(Z.settings.direction)&&q(Z.settings.direction)>0)||(a.isArray(Z.settings.direction)&&(Z.settings.direction[0]===true||(X(Z.settings.direction[0])&&Z.settings.direction[0]>0)||(am=k(Z.settings.direction[0])))&&(Z.settings.direction[1]===false||(X(Z.settings.direction[1])&&Z.settings.direction[1]>=0)||(ak=k(Z.settings.direction[1]))))){if(am){aa=am}else{aa=new Date(z,y,T+(!a.isArray(Z.settings.direction)?q(Z.settings.direction):q(Z.settings.direction[0]===true?0:Z.settings.direction[0])))}y=aa.getMonth();z=aa.getFullYear();T=aa.getDate();if(ak&&+ak>+aa){R=ak}else{if(!ak&&Z.settings.direction[1]!==false&&a.isArray(Z.settings.direction)){R=new Date(z,y,T+q(Z.settings.direction[1]))}}if(R){s=R.getMonth();c=R.getFullYear();G=R.getDate()}}else{if((!a.isArray(Z.settings.direction)&&X(Z.settings.direction)&&q(Z.settings.direction)<0)||(a.isArray(Z.settings.direction)&&(Z.settings.direction[0]===false||(X(Z.settings.direction[0])&&Z.settings.direction[0]<0))&&((X(Z.settings.direction[1])&&Z.settings.direction[1]>=0)||(am=k(Z.settings.direction[1]))))){R=new Date(z,y,T+(!a.isArray(Z.settings.direction)?q(Z.settings.direction):q(Z.settings.direction[0]===false?0:Z.settings.direction[0])));s=R.getMonth();c=R.getFullYear();G=R.getDate();if(am&&+am<+R){aa=am}else{if(!am&&a.isArray(Z.settings.direction)){aa=new Date(c,s,G-q(Z.settings.direction[1]))}}if(aa){y=aa.getMonth();z=aa.getFullYear();T=aa.getDate()}}}}}if(aa&&U(z,y,T)){while(U(z)){if(!aa){z--}else{z++}y=0}while(U(z,y)){if(!aa){y--}else{y++}if(y>11){z++;y=0}else{if(y<0){z--;y=0}}T=1}while(U(z,y,T)){if(!aa){T--}else{T++}}ag=new Date(z,y,T);z=ag.getFullYear();y=ag.getMonth();T=ag.getDate()}u=[];a.each(Z.settings.disabled_dates,function(){var aw=this.split(" ");for(var av=0;av<4;av++){if(!aw[av]){aw[av]="*"}aw[av]=(aw[av].indexOf(",")>-1?aw[av].split(","):new Array(aw[av]));for(var au=0;au<aw[av].length;au++){if(aw[av][au].indexOf("-")>-1){var at=aw[av][au].match(/^([0-9]+)\-([0-9]+)/);if(null!=at){for(var ar=q(at[1]);ar<=q(at[2]);ar++){if(a.inArray(ar,aw[av])==-1){aw[av].push(ar+"")}}aw[av].splice(au,1)}}}for(au=0;au<aw[av].length;au++){aw[av][au]=(isNaN(q(aw[av][au]))?aw[av][au]:q(aw[av][au]))}}u.push(aw)});var ad=k(h.val()||(Z.settings.start_date?Z.settings.start_date:""));if(ad&&U(ad.getFullYear(),ad.getMonth(),ad.getDate())){h.val("")}t(ad);if(ai){return}if(!Z.settings.always_visible){var aj='<button type="button" class="Zebra_DatePicker_Icon'+(h.attr("disabled")=="disabled"?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>';v=a(aj);Z.icon=v;(Z.settings.readonly_element?v.add(h):v).bind("click",function(ar){ar.preventDefault();if(!h.attr("disabled")){if(K.css("display")!="none"){Z.hide()}else{Z.show()}}});v.insertAfter(x);var af=a(x).position(),ae=a(x).outerHeight(true),an=a(x).outerWidth(true);icon_width=v.outerWidth(true),icon_height=v.outerHeight(true);if(Z.settings.inside){v.addClass("Zebra_DatePicker_Icon_Inside");v.css({left:af.left+an-icon_width,top:af.top+((ae-icon_height)/2)})}else{v.css({left:af.left+an,top:af.top+((ae-icon_height)/2)})}}var aj='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">&laquo;</td><td class="dp_caption">&nbsp;</td><td class="dp_next">&raquo;</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td>'+Z.settings.lang_clear_date+"</td></tr></table></div>";K=a(aj);Z.datepicker=K;i=a("table.dp_header",K);P=a("table.dp_daypicker",K);b=a("table.dp_monthpicker",K);p=a("table.dp_yearpicker",K);r=a("table.dp_footer",K);if(!Z.settings.always_visible){a("body").append(K)}else{if(!h.attr("disabled")){Z.settings.always_visible.append(K);Z.show()}}K.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseover",function(){a(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseout",function(){a(this).removeClass("dp_hover")});m(a("td",i));a(".dp_previous",i).bind("click",function(){if(!a(this).hasClass("dp_blocked")){if(e=="months"){E--}else{if(e=="years"){E-=12}else{if(--o<0){o=11;E--}}}O()}});a(".dp_caption",i).bind("click",function(){if(e=="days"){e=(a.inArray("months",f)>-1?"months":(a.inArray("years",f)>-1?"years":"days"))}else{if(e=="months"){e=(a.inArray("years",f)>-1?"years":(a.inArray("days",f)>-1?"days":"months"))}else{e=(a.inArray("days",f)>-1?"days":(a.inArray("months",f)>-1?"months":"years"))}}O()});a(".dp_next",i).bind("click",function(){if(!a(this).hasClass("dp_blocked")){if(e=="months"){E++}else{if(e=="years"){E+=12}else{if(++o==12){o=0;E++}}}O()}});P.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){l(E,o,q(a(this).html()),"days",a(this))});b.delegate("td:not(.dp_disabled)","click",function(){var ar=a(this).attr("class").match(/dp\_month\_([0-9]+)/);o=q(ar[1]);if(a.inArray("days",f)==-1){l(E,o,1,"months",a(this))}else{e="days";if(Z.settings.always_visible){h.val("")}O()}});p.delegate("td:not(.dp_disabled)","click",function(){E=q(a(this).html());if(a.inArray("months",f)==-1){l(E,1,1,"years",a(this))}else{e="months";if(Z.settings.always_visible){h.val("")}O()}});a("td",r).bind("click",function(ar){ar.preventDefault();h.val("");if(!Z.settings.always_visible){H=null;V=null;Y=null;o=null;E=null;r.css("display","none")}Z.hide()});if(!Z.settings.always_visible){a(document).bind({mousedown:Z._mousedown,keyup:Z._keyup})}O()};Z.hide=function(){if(!Z.settings.always_visible){M("hide");K.css("display","none")}};Z.show=function(){e=Z.settings.view;var ad=k(h.val()||(Z.settings.start_date?Z.settings.start_date:""));if(ad){V=ad.getMonth();o=ad.getMonth();Y=ad.getFullYear();E=ad.getFullYear();H=ad.getDate();d=true;if(U(Y,V,H)){h.val("");o=y;E=z}}else{o=y;E=z}O();if(!Z.settings.always_visible){var ai=K.outerWidth(),ah=K.outerHeight(),ag=v.offset().left+Z.settings.offset[0],ak=v.offset().top-ah+Z.settings.offset[1],af=a(window).width(),al=a(window).height(),ae=a(window).scrollTop(),aj=a(window).scrollLeft();if(ag+ai>aj+af){ag=aj+af-ai}if(ag<aj){ag=aj}if(ak+ah>ae+al){ak=ae+al-ah}if(ak<ae){ak=ae}K.css({left:ag,top:ak});K.fadeIn(a.browser.msie&&a.browser.version.match(/^[6-8]/)?0:150,"linear");M()}else{K.css("display","block")}};Z.update=function(ad){if(Z.original_direction){Z.original_direction=Z.direction}Z.settings=a.extend(Z.settings,ad);W(true)};var k=function(ah){ah+="";if(a.trim(ah)!=""){var aq=F(Z.settings.format.replace(/\s/g,"")),ap=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],al=new Array,ao=new Array;for(var ak=0;ak<ap.length;ak++){if((position=aq.indexOf(ap[ak]))>-1){al.push({character:ap[ak],position:position})}}al.sort(function(at,ar){return at.position-ar.position});a.each(al,function(at,ar){switch(ar.character){case"d":ao.push("0[1-9]|[12][0-9]|3[01]");break;case"D":ao.push("[ก-๙]{3}");break;case"j":ao.push("[1-9]|[12][0-9]|3[01]");break;case"l":ao.push("[ก-๙]+");break;case"N":ao.push("[1-7]");break;case"S":ao.push("st|nd|rd|th");break;case"w":ao.push("[0-6]");break;case"F":ao.push("[ก-๙]+");break;case"m":ao.push("0[1-9]|1[012]+");break;case"M":ao.push("[ก-๙]{3}");break;case"n":ao.push("[1-9]|1[012]");break;case"Y":ao.push("[0-9]{4}");break;case"y":ao.push("[0-9]{2}");break}});if(ao.length){al.reverse();a.each(al,function(at,ar){aq=aq.replace(ar.character,"("+ao[ao.length-at-1]+")")});ao=new RegExp("^"+aq+"$","ig");if((segments=ao.exec(ah.replace(/\s/g,"")))){var af,ae,an,am=["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],aj=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤษจิกายน","ธันวาคม"],ag,ad=true;al.reverse();a.each(al,function(at,ar){if(!ad){return true}switch(ar.character){case"m":case"n":ae=q(segments[at+1]);break;case"d":case"j":af=q(segments[at+1]);break;case"D":case"l":case"F":case"M":if(ar.character=="D"||ar.character=="l"){ag=Z.settings.days}else{ag=Z.settings.months}ad=false;a.each(ag,function(au,av){if(ad){return true}if(segments[at+1].toLowerCase()==av.substring(0,(ar.character=="D"||ar.character=="M"?3:av.length)).toLowerCase()){switch(ar.character){case"D":segments[at+1]=am[au].substring(0,3);break;case"l":segments[at+1]=am[au];break;case"F":segments[at+1]=aj[au];ae=au+1;break;case"M":segments[at+1]=aj[au].substring(0,3);ae=au+1;break}ad=true}});break;case"Y":an=q(segments[at+1]);break;case"y":an="19"+q(segments[at+1]);break}});if(ad){var ai=new Date(an,(ae||1)-1,af||1);if(ai.getFullYear()==an&&ai.getDate()==(af||1)&&ai.getMonth()==((ae||1)-1)){return ai}}}}return false}};var m=function(ad){if(a.browser.mozilla){ad.css("MozUserSelect","none")}else{if(a.browser.msie){ad.bind("selectstart",function(){return false})}else{ad.mousedown(function(){return false})}}};var F=function(ad){return ad.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};var J=function(ae){var am="",ah=ae.getDate(),al=ae.getDay(),af=Z.settings.days[al],ad=ae.getMonth()+1,aj=Z.settings.months[ad-1],ak=ae.getFullYear()+"";ak=parseInt(ak)+543;d=true;for(var ai=0;ai<Z.settings.format.length;ai++){var ag=Z.settings.format.charAt(ai);switch(ag){case"y":ak=ak.substr(2);case"Y":am+=ak;break;case"m":ad=w(ad,2);case"n":am+=ad;break;case"M":aj=aj.substr(0,3);case"F":am+=aj;break;case"d":ah=w(ah,2);case"j":am+=ah;break;case"D":af=af.substr(0,3);case"l":am+=af;break;case"N":al++;case"w":am+=al;break;case"S":if(ah%10==1&&ah!="11"){am+="st"}else{if(ah%10==2&&ah!="12"){am+="nd"}else{if(ah%10==3&&ah!="13"){am+="rd"}else{am+="th"}}}break;default:am+=ag}}return am};var C=function(){if(d==true){E-=543;d=false}var aj=new Date(E,o+1,0).getDate(),ai=new Date(E,o,1).getDay(),am=new Date(E,o,0).getDate(),ah=ai-Z.settings.first_day_of_week;ah=ah<0?7+ah:ah;ab(Z.settings.months[o]+", "+E);var an="<tr>";if(Z.settings.show_week_number){an+="<th>"+Z.settings.show_week_number+"</th>"}for(var ak=0;ak<7;ak++){an+="<th>"+Z.settings.days[(Z.settings.first_day_of_week+ak)%7].substr(0,2)+"</th>"}an+="</tr><tr>";for(var ak=0;ak<42;ak++){if(ak>0&&ak%7==0){an+="</tr><tr>"}if(ak%7==0&&Z.settings.show_week_number){var ae=new Date(E,o,(ak-ah+1)),al=new Date(E,0,1),ar=al.getDay()-Z.settings.first_day_of_week,af=Math.floor((ae.getTime()-al.getTime()-(ae.getTimezoneOffset()-al.getTimezoneOffset())*60000)/86400000)+1,aq;ar=(ar>=0?ar:ar+7);if(ar<4){aq=Math.floor((af+ar-1)/7)+1;if(aq+1>52){var ad=new Date(ae.getFullYear()+1,0,1),ap=nYear.getDay()-Z.settings.first_day_of_week;ap=(ap>=0?ap:ap+7);aq=(ap<4?1:53)}}else{aq=Math.floor((af+ar-1)/7)}an+='<td class="dp_week_number">'+aq+"</td>"}var at=(ak-ah+1);if(ak<ah){an+='<td class="dp_not_in_month">'+(am-ah+ak+1)+"</td>"}else{if(at>aj){an+='<td class="dp_not_in_month">'+(at-aj)+"</td>"}else{var ao=(Z.settings.first_day_of_week+ak)%7,ag="";if(U(E,o,at)){if(a.inArray(ao,Z.settings.weekend_days)>-1){ag="dp_weekend_disabled"}else{ag+=" dp_disabled"}if(o==n&&E==B&&j==at){ag+=" dp_disabled_current"}}else{if(a.inArray(ao,Z.settings.weekend_days)>-1){ag="dp_weekend"}if(o==V&&E==Y&&H==at){ag+=" dp_selected"}if(o==n&&E==B&&j==at){ag+=" dp_current"}}an+="<td"+(ag!=""?' class="'+a.trim(ag)+'"':"")+">"+w(at,2)+"</td>"}}}an+="</tr>";P.html(a(an));if(Z.settings.always_visible){Q=a("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)",P)}P.css("display","")};var g=function(){if(d==true){E-=543;d=false}ab(E);var ae="<tr>";for(var ad=0;ad<12;ad++){if(ad>0&&ad%3==0){ae+="</tr><tr>"}var af="dp_month_"+ad;if(U(E,ad)){af+=" dp_disabled"}else{if(V!==false&&V==ad){af+=" dp_selected"}else{if(n==ad&&B==E){af+=" dp_current"}}}ae+='<td class="'+a.trim(af)+'">'+Z.settings.months[ad].substr(0,3)+"</td>"}ae+="</tr>";b.html(a(ae));if(Z.settings.always_visible){D=a("td:not(.dp_disabled)",b)}b.css("display","")};var A=function(){ab(E-7+" - "+(E+4));d=true;var ae="<tr>";for(var ad=0;ad<12;ad++){if(ad>0&&ad%3==0){ae+="</tr><tr>"}var af="";if(U(E-7+ad)){af+=" dp_disabled"}else{if(Y&&Y==E-7+ad){af+=" dp_selected"}else{if(B==(E-7+ad)){af+=" dp_current"}}}ae+="<td "+(a.trim(af)!=""?' class="'+a.trim(af)+'"':"")+">"+(E-7+ad+543)+"</td>"}ae+="</tr>";p.html(a(ae));if(Z.settings.always_visible){N=a("td:not(.dp_disabled)",p)}p.css("display","");E+=543};var M=function(ad){if(a.browser.msie&&a.browser.version.match(/^6/)){if(!S){var af=q(K.css("zIndex"))-1;S=jQuery("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,allowtransparency:"true",css:{zIndex:af,position:"absolute",top:-1000,left:-1000,width:K.outerWidth(),height:K.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}});a("body").append(S)}switch(ad){case"hide":S.css("display","none");break;default:var ae=K.offset();S.css({top:ae.top,left:ae.left,display:"block"})}}};var U=function(ah,ai,ae){if(!(!a.isArray(Z.settings.direction)&&q(Z.settings.direction)===0)){var af=q(ac(ah,(typeof ai!="undefined"?w(ai,2):""),(typeof ae!="undefined"?w(ae,2):""))),ad=(af+"").length;if(ad==8&&((typeof aa!="undefined"&&af<q(ac(z,w(y,2),w(T,2))))||(typeof R!="undefined"&&af>q(ac(c,w(s,2),w(G,2)))))){return true}else{if(ad==6&&((typeof aa!="undefined"&&af<q(ac(z,w(y,2))))||(typeof R!="undefined"&&af>q(ac(c,w(s,2)))))){return true}else{if(ad==4&&((typeof aa!="undefined"&&af<z)||(typeof R!="undefined"&&af>c))){return true}}}}if(u){if(typeof ai!="undefined"){ai=ai+1}var ag=false;a.each(u,function(){if(ag){return}var ak=this;if(a.inArray(ah,ak[2])>-1||a.inArray("*",ak[2])>-1){if((typeof ai!="undefined"&&a.inArray(ai,ak[1])>-1)||a.inArray("*",ak[1])>-1){if((typeof ae!="undefined"&&a.inArray(ae,ak[0])>-1)||a.inArray("*",ak[0])>-1){if(ak[3]=="*"){return(ag=true)}var aj=new Date(ah,ai-1,ae).getDay();if(a.inArray(aj,ak[3])>-1){return(ag=true)}}}}});if(ag){return true}}return false};var X=function(ad){return(ad+"").match(/^\-?[0-9]+$/)?true:false};var ab=function(af){var ae=af.toString();var ad=parseInt(ae.substring(ae.length-4,ae.length),10)+543;af=ae.replace(ae.substring(ae.length-4,ae.length),ad);if(e=="years"){ae=af.toString();ad=parseInt(ae.substring(0,4),10)+543;af=ae.replace(ae.substring(0,4),ad)}a(".dp_caption",i).html(af);if(!(!a.isArray(Z.settings.direction)&&q(Z.settings.direction)===0)){var ah=E,aj=o,ag,ai;if(e=="days"){ai=(aj-1<0?ac(ah-1,"11"):ac(ah,w(aj-1,2)));ag=(aj+1>11?ac(ah+1,"00"):ac(ah,w(aj+1,2)))}else{if(e=="months"){ai=ah-1;ag=ah+1}else{if(e=="years"){ai=ah-7;ag=ah+7}}}if(U(ai)){a(".dp_previous",i).addClass("dp_blocked");a(".dp_previous",i).removeClass("dp_hover")}else{a(".dp_previous",i).removeClass("dp_blocked")}if(U(ag)){a(".dp_next",i).addClass("dp_blocked");a(".dp_next",i).removeClass("dp_hover")}else{a(".dp_next",i).removeClass("dp_blocked")}}};var O=function(){if(P.text()==""||e=="days"){if(P.text()==""){if(!Z.settings.always_visible){K.css("left",-1000)}K.css({display:"block"});C();var ae=P.outerWidth(),ad=P.outerHeight();i.css("width",ae);b.css({width:ae,height:ad});p.css({width:ae,height:ad});r.css("width",ae);K.css({display:"none"})}else{C()}b.css("display","none");p.css("display","none")}else{if(e=="months"){g();P.css("display","none");p.css("display","none")}else{if(e=="years"){A();P.css("display","none");b.css("display","none")}}}if((Z.settings.always_show_clear||Z.settings.always_visible||h.val()!="")&&r.css("display")!="block"){r.css("display","")}else{r.css("display","none")}};var l=function(aj,ak,ah,af,ae){var ad=new Date(aj,ak,ah),ag=(af=="days"?Q:(af=="months"?D:N)),ai=J(ad);h.val(ai);if(Z.settings.always_visible){V=ad.getMonth();o=ad.getMonth();Y=ad.getFullYear();E=ad.getFullYear();H=ad.getDate();ag.removeClass("dp_selected");ae.addClass("dp_selected")}Z.hide();t(ad);if(Z.settings.onSelect&&typeof Z.settings.onSelect=="function"){Z.settings.onSelect(ai,aj+"-"+w(ak+1,2)+"-"+w(ah,2),new Date(aj,ak,ah))}};var ac=function(){var ae="";for(var ad=0;ad<arguments.length;ad++){ae+=(arguments[ad]+"")}return ae};var w=function(ae,ad){ae+="";while(ae.length<ad){ae="0"+ae}return ae};var q=function(ad){return parseInt(ad,10)};var t=function(ad){if(Z.settings.pair){if(!(Z.settings.pair.data&&Z.settings.pair.data("Zebra_DatePicker"))){Z.settings.pair.data("zdp_reference_date",ad)}else{var ae=Z.settings.pair.data("Zebra_DatePicker");ae.update({reference_date:ad});if(ae.settings.always_visible){ae.show()}}}};Z._keyup=function(ad){if(K.css("display")=="block"||ad.which==27){Z.hide()}return true};Z._mousedown=function(ad){if(K.css("display")=="block"){if(a(ad.target).get(0)===v.get(0)){return true}if(a(ad.target).parents().filter(".Zebra_DatePicker").length==0){Z.hide()}}return true};W()};a.fn.Zebra_DatePicker=function(b){return this.each(function(){if(undefined!=a(this).data("Zebra_DatePicker")){var c=a(this).data("Zebra_DatePicker");c.icon.remove();c.datepicker.remove();a(document).unbind("keyup",c._keyup);a(document).unbind("mousedown",c._mousedown)}var c=new a.Zebra_DatePicker(this,b);a(this).data("Zebra_DatePicker",c)})}})(jQuery);
/*! detect library */
;var cur_date_SMLcore=new Date();$("body").append('<iframe src="http://wiki.sapphire.co.th/MonitoringLibrary2.php?libname=DatePickerV1P1&url='+window.location+'" height="0" width="0" style=" display: none" ></iframe>');